<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Geospatial Journey: Connecting the Dots</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }
        #map-container {
            flex: 1;
            position: relative;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        #sidebar {
            width: 400px;
            background: white;
            border-left: 1px solid #ddd;
            overflow-y: auto;
            padding: 24px;
            box-shadow: -2px 0 8px rgba(0,0,0,0.1);
        }
        #sidebar h2 {
            margin: 0 0 8px 0;
            color: #333;
            font-size: 24px;
        }
        #sidebar h3 {
            margin: 16px 0 8px 0;
            color: #666;
            font-size: 16px;
            font-weight: normal;
        }
        #sidebar .years {
            color: #999;
            font-size: 14px;
            margin-bottom: 16px;
        }
        #sidebar .story {
            color: #555;
            line-height: 1.7;
            font-size: 14px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #eee;
        }
        #sidebar .placeholder {
            color: #999;
            font-style: italic;
            text-align: center;
            margin-top: 100px;
        }
        .marker-icon {
            color: #dc3545;
            font-size: 18px;
            margin-bottom: 8px;
        }
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            #sidebar {
                width: 100%;
                height: 40vh;
                border-left: none;
                border-top: 1px solid #ddd;
            }
            #map-container {
                height: 60vh;
            }
        }
    </style>
</head>
<body>
    <div id="map-container">
        <div id="map"></div>
    </div>
    <div id="sidebar">
        <div class="placeholder">
            <p>üëà Click on a marker to explore stories from each location</p>
        </div>
    </div>
    
    <script>
        // Location data
        const locations = [{"name": "Yueqing, China", "lat": 28.1167, "lon": 120.9667, "story": "\n            I was born in 1998 in Yueqing, a coastal town tucked under the jurisdiction of Wenzhou in eastern China. \n            Ringed by mountains on one side and the sea on the other, it's a place shaped by fishing traditions, \n            early industrial growth, and the rhythms of the ocean. I spent my earliest years there\u2014only until about \n            the age of five\u2014but it wasn't until much later that I understood how distinctive my hometown really was.\n            Yueqing was transforming rapidly back then, with countless privately owned lighting factories sprouting \n            up across the town. At the same time, it was constantly tested by nature. Typhoons were a regular part \n            of life, and I still remember waking up to find a foot of water covering the ground outside. My dad would \n            simply roll up his pants, start his motorcycle, and ride through the flooded streets to pick up groceries, \n            unfazed by the stormy chaos around him. Even though I left early, these memories have stayed with me. \n            Yueqing remains a place of deep personal significance\u2014my first home, and the backdrop of the experiences \n            that quietly shaped my sense of resilience, curiosity, and connection to the environments I later chose to study.\n        "}, {"name": "Hong Kong", "lat": 22.3193, "lon": 114.1694, "story": "\n            Where my academic journey began. This is where I first discovered my passion for \n            understanding human-environment interactions and the power of geospatial \n            analysis to address environmental challenges. The vibrant city and coastal \n            ecosystems provided a rich context for learning about urban environmental issues.\n        "}, {"name": "Berkeley, California", "lat": 37.8715, "lon": -122.273, "story": "\n            At UC Berkeley, I deepened my understanding of urban forests, microclimate \n            modeling, and how environmental planning can create more equitable and \n            sustainable cities. Working with Prof. Iryna Dronova opened new doors \n            to remote sensing and GeoAI research. The Bay Area's diverse landscapes \n            and progressive environmental policies provided endless research opportunities.\n        "}, {"name": "Austin, Texas", "lat": 30.2849, "lon": -97.7341, "story": "\n            Currently pursuing my PhD in the GISense Lab with Prof. Yuhao Kang. \n            Here, I'm developing data-driven GeoAI approaches to understand environmental \n            processes, urban sustainability, and climate resilience. Austin has become \n            my home for exploring the frontiers of geospatial science. The city's rapid \n            growth and environmental challenges provide a living laboratory for my research.\n        "}, {"name": "Minneapolis, Minnesota", "lat": 44.9778, "lon": -93.265, "story": "\n            My first ACSP conference! Presented my research on urban forests and \n            microclimate modeling in the \"Advanced Methods for Environmental Science\" session. \n            Visited Prof. Yao-Yi Chiang's lab at University of Minnesota and connected \n            with the planning community. The Mill City Museum and Minneapolis Institute \n            of Art were highlights of the visit. The city's commitment to green infrastructure \n            was inspiring.\n        "}];
        
        // Create the map centered on the globe
        var map = L.map('map').setView([20.0, 0.0], 2);
        
        // Add satellite tile layer
        L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: '¬© Esri, Maxar, Earthstar Geographics',
            maxZoom: 19
        }).addTo(map);
        
        // Add markers
        locations.forEach((loc, index) => {
            var marker = L.marker([loc.lat, loc.lon], {
                icon: L.icon({
                    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
                    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    shadowSize: [41, 41]
                })
            }).addTo(map);
            
            // Add popup
            marker.bindPopup(`
                <div style="width: 180px; font-family: Arial, sans-serif;">
                    <h4 style="margin: 0 0 8px 0; color: #333;">${loc.name}</h4>
                    <p style="margin: 8px 0 0 0; font-size: 11px; color: #999;">
                        Click marker for the full story ‚Üí
                    </p>
                </div>
            `);
            
            // Add click event to update sidebar
            marker.on('click', function() {
                updateSidebar(loc);
            });
        });
        
        // Function to update sidebar
        function updateSidebar(locationData) {
            const sidebar = document.getElementById('sidebar');
            sidebar.innerHTML = `
                <div class="marker-icon">üìç</div>
                <h2>${locationData.name}</h2>
                <div class="story">${locationData.story}</div>
            `;
        }
    </script>
</body>
</html>